{% extends "base.html" %}
{% block content %}

<div class="container-fluid">
    <center><h1>Home!</h1></center>
    {% for device in device_list %}
    <div class="row">
        <hr>
        <div class="col-xs-12 col-md-4">
            <button type="button" id="bed1" class="btn btn-block {{ device[2] }}"><h2>{{ device[1] }}</h2></button>
        </div>
        <div class="col-xs-12 col-md-7">
            <button data-toggle="collapse" data-target="#collapse-{{ device[0] }}" type="button" class="btn btn-default btn-lg ">
                <span class="glyphicon glyphicon-hourglass" aria-hidden="true"></span>
            </button>
            <button data-toggle="collapse" data-target="#collapse-{{ device[0] }}b" type="button" class="btn btn-default btn-lg">
                <span class="glyphicon glyphicon-time" aria-hidden="true"></span>
            </button>
            {% for entry in timer %}
                {% if device[0] == entry.name_id %}
                    <div class="timer-entry">
                        <label>on:</label> {{ entry.start_time }}
                        <label>off:</label> {{ entry.end_time  }}
                        <button class="btn-danger btn-delete" data-id="{{ entry.id }}">
                            <span class="glyphicon glyphicon-minus" aria-hidden="true"></span>
                        </button>
                    </div>
                {% endif %}
            {% endfor %}
                <div id="collapse-{{ device[0] }}" class="panel-collapse collapse">
                    <div class="panel-body">
                        <p>
                          <label for="amount">Timer:</label>
                          <span id="slider-step-value"></span>
                        </p>

                        <div id="slider-step"></div>
                        <br>
                        <button type="button" class="btn btn-default btn-md btn-success">
                            <span class="glyphicon glyphicon-ok-sign" aria-hidden="true"></span>
                        </button>
                        <button data-toggle="collapse" data-target="#collapseOne" type="button" class="btn btn-default btn-md btn-danger">
                            <span class="glyphicon glyphicon-remove-sign" aria-hidden="true"></span>
                        </button>
                    </div>
                </div>

                <div id="collapse-{{ device[0] }}b" class="panel-collapse collapse">
                    <div class="panel-body">
                            <form id="rangeform" action="/add_timer" method="post">
                                <label>ON:</label>
                                <input type="hidden" name="starttime" id="input-start" />
                                <span  id="slider-range-noui-value-start"></span>
                                <label>OFF:</label>
                                <input name="endtime" type="hidden" id="input-end" />
                                <span  id="slider-range-noui-value-end"></span>
                            </form>
                        <div id="slider-range-noui"></div>
                        <br>
                        <button id="adder" type="button" class="btn btn-default btn-md btn-success">
                            <span  class="glyphicon glyphicon-ok-sign" aria-hidden="true"></span>
                        </button>
                        <button data-toggle="collapse" data-target="#collapseTwo" type="button" class="btn btn-default btn-md btn-danger">
                            <span class="glyphicon glyphicon-remove-sign" aria-hidden="true"></span>
                        </button>
                    </div>
                </div>
        </div>
    </div>
    <hr>
    {% endfor %}
</div>

{% endblock %}